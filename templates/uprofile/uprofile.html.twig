{% extends 'base.html.twig' %}

{% block title %}User Profile{% endblock %}
{% block pagetitle %}Profile{% endblock %}
{% block pagetitlesmall %}User Profile{% endblock %}
{% block pagebartitle %}User Profile{% endblock %}

{% block stylesheets %}
    <link href="{{ asset('css/profile.min.css') }}" rel="stylesheet" type="text/css"/>
    {{ parent() }}
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-12">
            <div class="profile-sidebar">
                <div class="portlet light profile-sidebar-portlet ">
                    <div class="profile-userpic">
                        <img src="{{ user.imageUrl() }}" class="img-responsive img-circle"
                             alt="{{ user.givenName() }} {{ user.familyName() }}">
                    </div>
                    <div class="profile-usertitle">
                        <div class="profile-usertitle-name">{{ user.givenName() }} {{ user.familyName() }}</div>
                        {% for i in 0..user.roles|length - 1 %}
                            {% if user.roles.get(i).roleName == 'fowner' %}
                                <div class="profile-usertitle-job">Facility Owner</div>
                            {% elseif user.roles.get(i).getRoleName == 'fadmin' %}
                                <div class="profile-usertitle-job">Facility Administrator</div>
                            {% elseif user.roles.get(i).getRoleName == 'powner' %}
                                <div class="profile-usertitle-job">Premise Owner</div>
                            {% else %}
                                <div class="profile-usertitle-job">Security Guard</div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
            <!-- BEGIN PROFILE CONTENT -->
            <div class="profile-content">
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet light ">
                            <div class="portlet-title tabbable-line">
                                <div class="caption caption-md">
                                    <i class="icon-globe theme-font hide"></i>
                                    <span class="caption-subject font-blue-madison bold uppercase">Profile Account</span>
                                </div>
                            </div>
                            <div class="portlet-body">
                                <div class="tab-content">
                                    <!-- PERSONAL INFO TAB -->
                                    <div class="tab-pane active" id="tab_1_1">
                                        {{ form_start(form, {'attr': {'role': 'form'}}) }}
                                        <div class="form-group">
                                            {{ form_label(form.givenName, 'First Name', {'label_    attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.givenName, {'attr': {'class': 'form-control', 'placeholder': user.givenName}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_label(form.familyName, 'Last Name', {'attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.familyName, {'attr': {'class': 'form-control', 'placeholder': user.familyName}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_label(form.phoneNb, 'Mobile Number', {'attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.phoneNb, {'attr': {'class': 'form-control', 'placeholder': user.phoneNb}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_label(form.gmail, 'Gmail Account', {'attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.gmail, {'attr': {'class': 'form-control', 'placeholder': user.gmail}}) }}
                                        </div>
                                        {#<div class="form-group">#}
                                        {#{{ form_label(form.dob, 'Gmail Account', {'attr': {'class': 'control-label'}}) }}#}
                                        {#{{ form_widget(form.dob, {'attr': {'class': 'form-control', 'placeholder': user.dob}}) }}#}
                                        {#</div>#}
                                        <div class="form-group">
                                            <label class="control-label">Date of Birth</label>
                                            <input type="text" placeholder="{{ user.dob|date('Y-m-d') }}"
                                                   class="form-control"/>
                                        </div>
                                        <div class="margiv-top-10">
                                            {{ form_widget(form.save, {'attr': {'class': 'btn green'}, 'label': 'Save Changes'}) }}
                                        </div>
                                        {{ form_end(form) }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END PROFILE CONTENT -->
        </div>
    </div>
{% endblock %}
